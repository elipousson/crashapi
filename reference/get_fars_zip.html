<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download FARS data files as zipped CSV or SAS files — get_fars_zip • crashapi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download FARS data files as zipped CSV or SAS files — get_fars_zip"><meta name="description" content="This function provides an alternative to get_fars_year() that downloads
files directly from NHTSA FTP site. If read is TRUE, the function reads a
list containing data frames for each table available in the selected year. If
geometry is TRUE, the accident table is converted to an sf object."><meta property="og:description" content="This function provides an alternative to get_fars_year() that downloads
files directly from NHTSA FTP site. If read is TRUE, the function reads a
list containing data frames for each table available in the selected year. If
geometry is TRUE, the accident table is converted to an sf object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">crashapi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/elipousson/crashapi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Download FARS data files as zipped CSV or SAS files</h1>
      <small class="dont-index">Source: <a href="https://github.com/elipousson/crashapi/blob/main/R/get_fars_zip.R" class="external-link"><code>R/get_fars_zip.R</code></a></small>
      <div class="d-none name"><code>get_fars_zip.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function provides an alternative to <code><a href="get_fars.html">get_fars_year()</a></code> that downloads
files directly from NHTSA FTP site. If read is <code>TRUE</code>, the function reads a
list containing data frames for each table available in the selected year. If
geometry is <code>TRUE</code>, the accident table is converted to an sf object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_fars_zip</span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2022</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"csv"</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pr <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  aux <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  read <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  geometry <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>Year of data from 1975 to 2022, Default: 2022</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>Format of zipped data tables ('csv' or 'sas'). Default: 'csv'.
unzip and geo options are only supported if format is "csv".</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Path to download zip file. Set to <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code> if <code>NULL</code> (default).</p></dd>


<dt id="arg-pr">pr<a class="anchor" aria-label="anchor" href="#arg-pr"></a></dt>
<dd><p>If <code>TRUE</code>, download FARS data for Puerto Rico. No Puerto Rico data
available for years 1975-1977. Default: <code>FALSE</code></p></dd>


<dt id="arg-aux">aux<a class="anchor" aria-label="anchor" href="#arg-aux"></a></dt>
<dd><p>If <code>TRUE</code> and year is after 1982, download auxiliary
FARS datasets that "contain data derived from the regular FARS/GES
variables using NCSA analytical data classifications." In 2010, the NHTSA
explained: "These classifications are widely used in NCSA publications and
research. Many definitions such as "speeding-related" or "distracted
driving" comprise a combination of variables whose names or attributes have
changed over time. The derived variables in the auxiliary files incorporate
these nuances, thus simplifying the use of standard classifications in any
traffic safety research." Learn more from the FARS and GES Auxiliary
Datasets Q &amp; A:
<a href="https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/811364" class="external-link">https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/811364</a></p></dd>


<dt id="arg-read">read<a class="anchor" aria-label="anchor" href="#arg-read"></a></dt>
<dd><p>If <code>TRUE</code>, unzip the downloaded file and read CSV files into a
list of tables with each list item corresponding to one CSV file.</p></dd>


<dt id="arg-geometry">geometry<a class="anchor" aria-label="anchor" href="#arg-geometry"></a></dt>
<dd><p>If <code>TRUE</code>, convert the accident table to a sf object.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>If <code>FALSE</code>, abort if file exists at the provided path. If
<code>TRUE</code>, overwrite file.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Downloads zip file with CSV or SAS tables and returns the zip file
path invisibly or returns a list of data frames (if geometry is <code>FALSE</code>),
or returns a list of data frames with the accident table converted to a sf
object.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

