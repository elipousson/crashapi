<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>An R package for accessing the Fatality Analysis Reporting System (FARS) API • crashapi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="preferably.css">
<link id="css-code-light" rel="stylesheet" href="code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An R package for accessing the Fatality Analysis Reporting System (FARS) API">
<meta property="og:description" content="Get crash data for U.S. states and counties.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">crashapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="crashapi" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#crashapi" class="anchor"></a>crashapi</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of crashapi is to provides functions for downloading data from the National Highway Traffic Safety Administration (NHTSA) <a href="https://crashviewer.nhtsa.dot.gov/CrashAPI/">Fatality Analysis Reporting System (FARS) API</a>. The NHTSA website explains the purpose of the API:</p>
<blockquote>
<p>The NHTSA Crash data Application Programming Interface (API) provides various ways to get crash data collected by DOT NHTSA’s Fatality Analysis Reporting System (FARS) program. The APIs are primarily targeted for developers, programmers or researchers interested in obtaining Crash statistics on Fatal Motor Vehicle Crashes. The API supports multiple data output formats, namely, XML, CSV/XLSX, JSV and JSON. FARS data starting from 2010 onwards is made available through this website. There are different APIs provided to make it easier to query specific data.</p>
</blockquote>
<p>Currently three of the 3 of the 9 query APIs are supported by this package.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version of crashapi using the remotes package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"elipousson/crashapi"</span><span class="op">)</span></code></pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">crashapi</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get crashes in NY from 2019 with 5 to 10 vehicles</span>
<span class="fu"><a href="reference/get_fars_crashes.html">get_fars_crash_list</a></span><span class="op">(</span>
  start_year <span class="op">=</span> <span class="fl">2019</span>,
  end_year <span class="op">=</span> <span class="fl">2019</span>,
  state <span class="op">=</span> <span class="st">"NY"</span>,
  vehicles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">10</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt;      CountyName                  CrashDate Fatals Peds Persons St_Case State</span>
<span class="co">#&gt; 1     BRONX (5) /Date(1549865820000-0500)/      2    1       7  360042    36</span>
<span class="co">#&gt; 2     ERIE (29) /Date(1551915000000-0500)/      1    0       4  360159    36</span>
<span class="co">#&gt; 3   ORANGE (71) /Date(1558274040000-0400)/      1    0       1  360277    36</span>
<span class="co">#&gt; 4   QUEENS (81) /Date(1561656240000-0400)/      1    0       6  360319    36</span>
<span class="co">#&gt; 5     BRONX (5) /Date(1561866000000-0400)/      1    0      11  360339    36</span>
<span class="co">#&gt; 6    KINGS (47) /Date(1564564080000-0400)/      1    0       5  360440    36</span>
<span class="co">#&gt; 7 SUFFOLK (103) /Date(1563792360000-0400)/      1    0       2  360551    36</span>
<span class="co">#&gt;   StateName TotalVehicles</span>
<span class="co">#&gt; 1  New York             5</span>
<span class="co">#&gt; 2  New York             5</span>
<span class="co">#&gt; 3  New York             6</span>
<span class="co">#&gt; 4  New York             5</span>
<span class="co">#&gt; 5  New York             5</span>
<span class="co">#&gt; 6  New York             5</span>
<span class="co">#&gt; 7  New York             6</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get crashes for Baltimore County, MD from 2014 to 2015</span>
<span class="fu"><a href="reference/get_fars_crashes.html">get_fars_crashes</a></span><span class="op">(</span>
  start_year <span class="op">=</span> <span class="fl">2014</span>,
  end_year <span class="op">=</span> <span class="fl">2015</span>,
  state <span class="op">=</span> <span class="st">"MD"</span>,
  county <span class="op">=</span> <span class="st">"Baltimore County"</span><span class="op">)</span> |&gt;
  <span class="co"># Show 10 fatal crashes at random</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;    CITY       CITYNAME COUNTY    COUNTYNAME CaseYear FATALS    LATITUDE</span>
<span class="co">#&gt; 1     0 NOT APPLICABLE      5 BALTIMORE (5)     2014      1 39.38516944</span>
<span class="co">#&gt; 2     0 NOT APPLICABLE      5 BALTIMORE (5)     2014      1 39.37583333</span>
<span class="co">#&gt; 3     0 NOT APPLICABLE      5 BALTIMORE (5)     2015      1 39.68169167</span>
<span class="co">#&gt; 4     0 NOT APPLICABLE      5 BALTIMORE (5)     2015      1 39.36160833</span>
<span class="co">#&gt; 5     0 NOT APPLICABLE      5 BALTIMORE (5)     2015      1 39.51717500</span>
<span class="co">#&gt; 6     0 NOT APPLICABLE      5 BALTIMORE (5)     2014      1 39.40746111</span>
<span class="co">#&gt; 7     0 NOT APPLICABLE      5 BALTIMORE (5)     2015      1 39.26032222</span>
<span class="co">#&gt; 8     0 NOT APPLICABLE      5 BALTIMORE (5)     2014      1 39.39587500</span>
<span class="co">#&gt; 9     0 NOT APPLICABLE      5 BALTIMORE (5)     2014      1 39.44058611</span>
<span class="co">#&gt; 10    0 NOT APPLICABLE      5 BALTIMORE (5)     2014      1 39.41453889</span>
<span class="co">#&gt;         LONGITUD STATE STATENAME ST_CASE TOTALVEHICLES            TWAY_ID</span>
<span class="co">#&gt; 1  -76.633408330    24  Maryland  240169             1             SR-134</span>
<span class="co">#&gt; 2  -76.513941670    24  Maryland  240281             1            CR-4458</span>
<span class="co">#&gt; 3  -76.730450000    24  Maryland  240058             1              CR-70</span>
<span class="co">#&gt; 4  -76.525191670    24  Maryland  240112             2            CR-3481</span>
<span class="co">#&gt; 5  -76.835450000    24  Maryland  240248             2              SR-30</span>
<span class="co">#&gt; 6  -76.392258330    24  Maryland  240128             1              US-40</span>
<span class="co">#&gt; 7  -76.487916670    24  Maryland  240388             1 JASMINE ROAD ALLEY</span>
<span class="co">#&gt; 8  -76.662855560    24  Maryland  240318             1              SR-25</span>
<span class="co">#&gt; 9  -76.626136110    24  Maryland  240376             2              SR-45</span>
<span class="co">#&gt; 10 -76.592600000    24  Maryland  240103             2               I-95</span>
<span class="co">#&gt;    TWAY_ID2 VE_FORMS</span>
<span class="co">#&gt; 1                  1</span>
<span class="co">#&gt; 2                  1</span>
<span class="co">#&gt; 3                  1</span>
<span class="co">#&gt; 4                  2</span>
<span class="co">#&gt; 5    CR-187        2</span>
<span class="co">#&gt; 6                  1</span>
<span class="co">#&gt; 7                  1</span>
<span class="co">#&gt; 8                  1</span>
<span class="co">#&gt; 9    CR-810        2</span>
<span class="co">#&gt; 10                 2</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get crashes for Baltimore County, MD from 2014 to 2015</span>
<span class="co"># Set geometry to TRUE to return an sf object</span>
<span class="va">crashes</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="reference/get_fars_crashes.html">get_fars_crashes</a></span><span class="op">(</span>
    start_year <span class="op">=</span> <span class="fl">2014</span>,
    end_year <span class="op">=</span> <span class="fl">2015</span>,
    state <span class="op">=</span> <span class="st">"MD"</span>,
    county <span class="op">=</span> <span class="st">"Baltimore County"</span>,
    geometry <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>

<span class="co"># Map crashes</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu">mapbaltimore</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/mapbaltimore/man/baltimore_msa_counties.html">baltimore_msa_counties</a></span>, <span class="va">namelsad</span> <span class="op">==</span> <span class="st">"Baltimore County"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">crashes</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">TOTALVEHICLES</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-map_fars_crashes-1.png" width="100%"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get summary crash count and fatal crash count data for Maryland from 2010 to 2019</span>
<span class="fu"><a href="reference/get_fars_crashes.html">get_fars_summary</a></span><span class="op">(</span>
  start_year <span class="op">=</span> <span class="fl">2010</span>,
  end_year <span class="op">=</span> <span class="fl">2019</span>,
  state <span class="op">=</span> <span class="st">"MD"</span>
<span class="op">)</span>
<span class="co">#&gt;    CaseYear CrashCounts TotalFatalCounts</span>
<span class="co">#&gt; 1      2010         463              496</span>
<span class="co">#&gt; 2      2011         455              485</span>
<span class="co">#&gt; 3      2012         462              511</span>
<span class="co">#&gt; 4      2013         431              465</span>
<span class="co">#&gt; 5      2014         416              442</span>
<span class="co">#&gt; 6      2015         479              520</span>
<span class="co">#&gt; 7      2016         484              522</span>
<span class="co">#&gt; 8      2017         518              558</span>
<span class="co">#&gt; 9      2018         485              512</span>
<span class="co">#&gt; 10     2019         484              521</span></code></pre></div>
</div>
<div id="additional-information" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-information" class="anchor"></a>Additional Information</h2>
<p>The <a href="https://www-fars.nhtsa.dot.gov/Help/helplinks.aspx">NHTSA website</a> provides additional information on the release data and version status for the FARS Dataset.</p>
<table class="table">
<thead><tr class="header">
<th>Data Year</th>
<th>File Version</th>
<th>Release Date</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2010</td>
<td>Final</td>
<td>December 11, 2012</td>
</tr>
<tr class="even">
<td>2011</td>
<td>Final</td>
<td>November 13, 2013</td>
</tr>
<tr class="odd">
<td>2012</td>
<td>Final</td>
<td>December 12, 2013</td>
</tr>
<tr class="even">
<td>2013</td>
<td>Final</td>
<td>December 14, 2014</td>
</tr>
<tr class="odd">
<td>2014</td>
<td>Final</td>
<td>December 18, 2015</td>
</tr>
<tr class="even">
<td>2015</td>
<td>Final</td>
<td>December 16, 2016</td>
</tr>
<tr class="odd">
<td>2016</td>
<td>Final</td>
<td>December 14, 2017</td>
</tr>
<tr class="even">
<td>2017</td>
<td>Final</td>
<td>December 18, 2018</td>
</tr>
<tr class="odd">
<td>2018</td>
<td>Final</td>
<td>June 24, 2021</td>
</tr>
<tr class="even">
<td>2019</td>
<td>Annual</td>
<td>June 24, 2021</td>
</tr>
</tbody>
</table>
</div>
<div id="related-packages-and-projects" class="section level2">
<h2 class="hasAnchor">
<a href="#related-packages-and-projects" class="anchor"></a>Related packages and projects</h2>
<ul>
<li>
<a href="https://github.com/ropensci/stats19">stats19</a> “provides functions for downloading and formatting road crash data” from “the UK’s official road traffic casualty database, STATS19.”</li>
<li>
<a href="https://github.com/nacnudus/nzcrash">nzcrash</a>: “An R package to distribute New Zealand crash data in a convenient form.”</li>
<li>
<a href="https://github.com/graphhopper/open-traffic-collection">GraphHopper Open Traffic Collection</a>: “Collections of URLs pointing to traffic information portals which contain open data or at least data which is free to use.”</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Eli Pousson <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown">
  <p>Made with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1, using <a href="https://preferably.amirmasoudabdol.name/?source=footer">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
