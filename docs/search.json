[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 crashapi authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Eli Pousson. Author, maintainer. Kyle Walker. Copyright holder.            Author tigris helper functions bundled crashapi (see tigris-utils.R).","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pousson E (2022). crashapi: CrashAPI. R package version 0.1.0.11.","code":"@Manual{,   title = {crashapi: CrashAPI},   author = {Eli Pousson},   year = {2022},   note = {R package version 0.1.0.11}, }"},{"path":"/index.html","id":"crashapi","dir":"","previous_headings":"","what":"An R package for accessing the Fatality Analysis Reporting System (FARS) API","title":"An R package for accessing the Fatality Analysis Reporting System (FARS) API","text":"goal crashapi R package provide functions downloading data National Highway Traffic Safety Administration (NHTSA) Fatality Analysis Reporting System (FARS) API. FARS? NHTSA explains: “Fatality Analysis Reporting System (FARS) contains data vehicle crashes United States occur public roadway involve fatality.” Supported APIs package include: Get Crash List Information Get Crash Details Get Crashes Location Get Crashes Vehicle Get Summary Counts Get Variables Get Variable Attributes Get FARS Data Year APIs support XML, JSV, CSV, JSON output formats. package uses JSON exception get_fars_year (supports downloading CSV files). Currently unsupported APIs include: Get Crashes Occupant reference, package also includes list terms NHTSA technical definitions fars_terms list variable labels fars_vars_labels. FARS API currently provides access data 2010 2019. get_fars_zip function can used access FARS data files 1975 2019 available download NHTSA File Downloads site zipped CSV SAS files (available NHTSA FARS API). site also provides extensive technical documentation coding use FARS data files. Earlier data along data General Estimates System (GES) / Crash Report Sampling System (CRSS) also available Fatality Injury Reporting System Tool (FIRST). NHTSA website also provides additional information release data version status FARS data files:","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"An R package for accessing the Fatality Analysis Reporting System (FARS) API","text":"can install development version crashapi using remotes package:","code":"remotes::install_github(\"elipousson/crashapi\")"},{"path":"/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"An R package for accessing the Fatality Analysis Reporting System (FARS) API","text":"features package can accessed using get_fars() function selects appropriate API-specific function based provided parameters. can also set API use api parameter use API-specific function (e.g. get_fars_summary()). example, can use get_fars() access state-level summary data crash fatality counts.  can download crash data set geometry TRUE optionally convert data frame sf object mapping.  can list crashes filter number vehicles involved. call get_fars() get_fars_crashes() details set TRUE, additional information get_fars_cases() (including crash date time) appended crash data frame.","code":"library(crashapi) library(ggplot2) # Get summary crash count and fatality count data for Maryland from 2010 to 2019 md_summary <-   get_fars(     year = c(2010, 2019),     state = \"MD\",     api = \"summary count\"   )  ggplot(md_summary, aes(x = CaseYear, y = TotalFatalCounts)) +   geom_point(color = \"red\") +   geom_line(color = \"red\", group = 1) +   theme_minimal() crashes_sf <-   get_fars(   year = c(2010, 2012),   state = \"MD\",   county = \"Baltimore city\",   geometry = TRUE )  # Map crashes ggplot() +   geom_sf(     data = mapbaltimore::baltimore_city,     fill = NA, color = \"black\"   ) +   geom_sf(     data = crashes_sf,     aes(color = totalvehicles),     alpha = 0.75   ) +   theme_void() # Get fatal crashes in New York state from 2019 with 5 to 10 vehicles get_fars(   year = 2019,   state = \"NY\",   vehicles = c(5, 10) ) #>      CountyName                  CrashDate Fatals Peds Persons St_Case State #> 1     BRONX (5) /Date(1549865820000-0500)/      2    1       7  360042    36 #> 2     ERIE (29) /Date(1551915000000-0500)/      1    0       4  360159    36 #> 3   ORANGE (71) /Date(1558274040000-0400)/      1    0       1  360277    36 #> 4   QUEENS (81) /Date(1561656240000-0400)/      1    0       6  360319    36 #> 5     BRONX (5) /Date(1561866000000-0400)/      1    0      11  360339    36 #> 6    KINGS (47) /Date(1564564080000-0400)/      1    0       5  360440    36 #> 7 SUFFOLK (103) /Date(1563792360000-0400)/      1    0       2  360551    36 #>   StateName TotalVehicles #> 1  New York             5 #> 2  New York             5 #> 3  New York             6 #> 4  New York             5 #> 5  New York             5 #> 6  New York             5 #> 7  New York             6 # Get fatal crashes for Anne Arundel County, MD for 2019 and append details crashes_detailed <- get_fars(   year = 2019,   state = \"MD\",   county = \"Anne Arundel County\",   details = TRUE )  # Show 10 fatal crashes at random dplyr::slice_sample(crashes_detailed, n = 10) #>    case_year totalvehicles state statename st_case       date  time #> 1       2019             2    24  Maryland  240046 2019-02-16 00:02 #> 2       2019             1    24  Maryland  240319 2019-09-20 00:02 #> 3       2019             1    24  Maryland  240150 2019-05-31 00:02 #> 4       2019             2    24  Maryland  240389 2019-09-27 00:02 #> 5       2019             2    24  Maryland  240190 2019-06-30 00:02 #> 6       2019             1    24  Maryland  240048 2019-02-20 00:02 #> 7       2019             2    24  Maryland  240116 2019-04-22 00:02 #> 8       2019             2    24  Maryland  240169 2019-06-14 00:02 #> 9       2019             1    24  Maryland  240463 2019-01-05 00:02 #> 10      2019             2    24  Maryland  240294 2019-09-14 00:02 #>               datetime peds pernotmvit ve_total ve_forms pvh_invl #> 1  2019-02-16 00:02:00    0          0        2        2        0 #> 2  2019-09-20 00:02:00    0          0        1        1        0 #> 3  2019-05-31 00:02:00    0          0        1        1        0 #> 4  2019-09-27 00:02:00    0          0        2        2        0 #> 5  2019-06-30 00:02:00    1          1        2        1        1 #> 6  2019-02-20 00:02:00    1          1        1        1        0 #> 7  2019-04-22 00:02:00    0          0        2        2        0 #> 8  2019-06-14 00:02:00    0          0        2        2        0 #> 9  2019-01-05 00:02:00    0          0        1        1        0 #> 10 2019-09-14 00:02:00    0          2        2        1        1 #>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               n_persons #> 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  NULL #> 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  NULL #> 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  NULL #> 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  NULL #> 5                           41, 41 Years, 97, Not a Motor Vehicle Occupant, 9, Not Reported, 20, 0.020 % BAC, 2, Test Given, 1, Blood, NA, NA, NA, 3, ANNE ARUNDEL (3), 2019, 30, 30, 30, 18, 18:00-18:59, 33, 33, 6, June, 1833, 2019, 2019, 7, Died at Scene, 0, No (Alcohol Not Involved), NA, NA, NA, NA, NA, NA, 0, No (drugs not involved), NA, NA, NA, NA, NA, NA, 8, Not Reported, 2, Test Given, 8, Not Applicable, 0, Ejection Path Not Applicable, NA, NA, 0, Not Extricated or Not Applicable, NA, NA, 3, Principal Arterial - Other, 8, Pedestrian, 7, Non-Hispanic, 0, Not Transported, 18, 6:00pm-6:59pm, NA, NA, 4, Fatal Injury (K), 0, 13, 20, Shoulder/Roadside, NA, NA, NA, 0, The First Harmful Event was Not a Collision with a Motor Vehicle in Transport, 20, 20, NA, NA, 6, June, 1, 5, Pedestrian, 0, None, 0, None, 0, None, NA, NA, 8, Not a Motor Vehicle Occupant, 96, Not a Motor Vehicle Occupant, NA, NA, NA, NA, 2, Urban, 0, No, 0, Not a Motor Vehicle Occupant, 1, Male, NA, NA, 24, Maryland, 1, 01, 240190, NA, NA, 0, 1, 1, Yes #> 6  26, 26 Years, 97, Not a Motor Vehicle Occupant, 9, Not Reported, 0, 0.000 % BAC, 2, Test Given, 1, Blood, NA, NA, NA, 3, ANNE ARUNDEL (3), 2019, 20, 20, 20, 18, 18:00-18:59, 43, 43, 2, February, 1843, 2019, 2019, 7, Died at Scene, 9, Reported as Unknown, NA, NA, NA, NA, NA, NA, 9, Reported as Unknown, NA, NA, NA, NA, NA, NA, 8, Not Reported, 2, Test Given, 8, Not Applicable, 0, Ejection Path Not Applicable, NA, NA, 0, Not Extricated or Not Applicable, NA, NA, 5, Major Collector, 8, Pedestrian, 7, Non-Hispanic, 0, Not Transported, 18, 6:00pm-6:59pm, NA, NA, 4, Fatal Injury (K), 0, 18, 11, Not at Intersection - On Roadway, Not in Marked Crosswalk, NA, NA, NA, 0, The First Harmful Event was Not a Collision with a Motor Vehicle in Transport, 25, 25, NA, NA, 2, February, 1, 5, Pedestrian, 0, None, 0, None, 0, None, NA, NA, 8, Not a Motor Vehicle Occupant, 96, Not a Motor Vehicle Occupant, NA, NA, NA, NA, 2, Urban, 0, No, 0, Not a Motor Vehicle Occupant, 1, Male, NA, NA, 24, Maryland, 1, 01, 240048, NA, NA, 0, 1, 0, No #> 7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  NULL #> 8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  NULL #> 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  NULL #> 10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 NULL #>    persons permvit county       countyname city       cityname month month_name #> 1        3       3      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     2   February #> 2        4       4      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     9  September #> 3        1       1      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     5        May #> 4        3       3      3 ANNE ARUNDEL (3) 1415         SEVERN     9  September #> 5        1       1      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     6       June #> 6        2       2      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     2   February #> 7        2       2      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     4      April #> 8        3       3      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     6       June #> 9        1       1      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     1    January #> 10       3       1      3 ANNE ARUNDEL (3)    0 NOT APPLICABLE     9  September #>    day day_week day_weekname year hour        hourname minute minutename #> 1   16        7     Saturday 2019   11 11:00am-11:59am     43         43 #> 2   20        6       Friday 2019   21   9:00pm-9:59pm      2          2 #> 3   31        6       Friday 2019   11 11:00am-11:59am     26         26 #> 4   27        6       Friday 2019   20   8:00pm-8:59pm     31         31 #> 5   30        1       Sunday 2019   18   6:00pm-6:59pm     20         20 #> 6   20        4    Wednesday 2019   18   6:00pm-6:59pm     25         25 #> 7   22        2       Monday 2019    8   8:00am-8:59am      0          0 #> 8   14        6       Friday 2019   22 10:00pm-10:59pm     30         30 #> 9    5        7     Saturday 2019   23 11:00pm-11:59pm     42         42 #> 10  14        7     Saturday 2019   15   3:00pm-3:59pm     46         46 #>                tway_id tway_id2 route     routename rur_urb rur_urbname #> 1               SR-100              3 State Highway       2       Urban #> 2              CR-3549              4   County Road       2       Urban #> 3               SR-468              3 State Highway       1       Rural #> 4  SR-175 ANNAPOLIS RD  CR-5454     3 State Highway       2       Urban #> 5               SR-295              3 State Highway       2       Urban #> 6              CR-2633              4   County Road       2       Urban #> 7               SR-450              3 State Highway       2       Urban #> 8               SR-295              3 State Highway       2       Urban #> 9               SR-295              3 State Highway       2       Urban #> 10              SR-295              3 State Highway       2       Urban #>    func_sys               func_sysname rd_owner          rd_ownername nhs #> 1         7                      Local        1  State Highway Agency   0 #> 2         5            Major Collector        2 County Highway Agency   0 #> 3         5            Major Collector        1  State Highway Agency   0 #> 4         4             Minor Arterial        1  State Highway Agency   0 #> 5         3 Principal Arterial - Other        1  State Highway Agency   0 #> 6         5            Major Collector        2 County Highway Agency   0 #> 7         3 Principal Arterial - Other        1  State Highway Agency   0 #> 8         7                      Local        1  State Highway Agency   0 #> 9         3 Principal Arterial - Other        1  State Highway Agency   1 #> 10        4             Minor Arterial        1  State Highway Agency   0 #>                           nhsname sp_jur              sp_jurname milept #> 1  This section IS NOT on the NHS      0 No Special Jurisdiction     70 #> 2  This section IS NOT on the NHS      0 No Special Jurisdiction     73 #> 3  This section IS NOT on the NHS      0 No Special Jurisdiction     78 #> 4  This section IS NOT on the NHS      0 No Special Jurisdiction     47 #> 5  This section IS NOT on the NHS      0 No Special Jurisdiction     90 #> 6  This section IS NOT on the NHS      0 No Special Jurisdiction     12 #> 7  This section IS NOT on the NHS      0 No Special Jurisdiction    102 #> 8  This section IS NOT on the NHS      0 No Special Jurisdiction      9 #> 9      This section IS ON the NHS      1   National Park Service      0 #> 10 This section IS NOT on the NHS      0 No Special Jurisdiction    119 #>    mileptname    latitude latitudename      longitud  longitudname harm_ev #> 1          70 39.15160833  39.15160833 -76.637511110 -76.637511110      24 #> 2          73 38.81967778  38.81967778 -76.690894440 -76.690894440      42 #> 3          78 38.87208611  38.87208611 -76.563958330 -76.563958330      42 #> 4          47 39.09596667  39.09596667 -76.720419440 -76.720419440      12 #> 5          90 39.17808889  39.17808889 -76.723630560 -76.723630560       8 #> 6          12 39.02736667  39.02736667 -76.708527780 -76.708527780       8 #> 7         102 38.98215833  38.98215833 -76.531572220 -76.531572220      12 #> 8           9 39.17067778  39.17067778 -76.730925000 -76.730925000      12 #> 9        None 39.11144722  39.11144722 -76.781183330 -76.781183330      42 #> 10        119 39.20472500  39.20472500 -76.690747220 -76.690747220      14 #>                    harm_evname man_coll #> 1               Guardrail Face        0 #> 2         Tree (Standing Only)        0 #> 3         Tree (Standing Only)        0 #> 4  Motor Vehicle In-Transport         6 #> 5                   Pedestrian        0 #> 6                   Pedestrian        0 #> 7  Motor Vehicle In-Transport         6 #> 8  Motor Vehicle In-Transport         6 #> 9         Tree (Standing Only)        0 #> 10       Parked Motor Vehicle         0 #>                                                                     man_collname #> 1  The First Harmful Event was Not a Collision with a Motor Vehicle in Transport #> 2  The First Harmful Event was Not a Collision with a Motor Vehicle in Transport #> 3  The First Harmful Event was Not a Collision with a Motor Vehicle in Transport #> 4                                                                         Angle  #> 5  The First Harmful Event was Not a Collision with a Motor Vehicle in Transport #> 6  The First Harmful Event was Not a Collision with a Motor Vehicle in Transport #> 7                                                                         Angle  #> 8                                                                         Angle  #> 9  The First Harmful Event was Not a Collision with a Motor Vehicle in Transport #> 10 The First Harmful Event was Not a Collision with a Motor Vehicle in Transport #>    reljct1 reljct1name reljct2                            reljct2name typ_int #> 1        0          No       1                           Non-Junction       1 #> 2        0          No       1                           Non-Junction       1 #> 3        0          No       1                           Non-Junction       1 #> 4        0          No       2                           Intersection       3 #> 5        0          No       1                           Non-Junction       1 #> 6        0          No       1                           Non-Junction       1 #> 7        0          No       8                Driveway Access Related       1 #> 8        0          No       5             Entrance/Exit Ramp Related       1 #> 9        0          No       5             Entrance/Exit Ramp Related       1 #> 10       1         Yes      19 Other location within Interchange Area       1 #>            typ_intname rel_road rel_roadname wrk_zone wrk_zonename lgt_cond #> 1  Not an Intersection        4  On Roadside        0         None        1 #> 2  Not an Intersection        4  On Roadside        0         None        3 #> 3  Not an Intersection        4  On Roadside        0         None        1 #> 4       T-Intersection        1   On Roadway        0         None        3 #> 5  Not an Intersection        2  On Shoulder        0         None        1 #> 6  Not an Intersection        1   On Roadway        0         None        2 #> 7  Not an Intersection        1   On Roadway        0         None        1 #> 8  Not an Intersection        1   On Roadway        0         None        3 #> 9  Not an Intersection        3    On Median        0         None        3 #> 10 Not an Intersection        8         Gore        0         None        1 #>          lgt_condname weather weathername weather1 weather1name weather2 #> 1            Daylight       1       Clear        1        Clear        0 #> 2      Dark - Lighted       1       Clear        1        Clear        0 #> 3            Daylight       1       Clear        1        Clear        0 #> 4      Dark - Lighted       1       Clear        1        Clear        0 #> 5            Daylight       1       Clear        1        Clear        0 #> 6  Dark - Not Lighted       4        Snow        4         Snow        0 #> 7            Daylight      10      Cloudy       10       Cloudy        0 #> 8      Dark - Lighted       1       Clear        1        Clear        0 #> 9      Dark - Lighted       1       Clear        1        Clear        0 #> 10           Daylight      10      Cloudy       10       Cloudy        0 #>                            weather2name sch_bus sch_busname    rail #> 1  No Additional Atmospheric Conditions       0          No 0000000 #> 2  No Additional Atmospheric Conditions       0          No 0000000 #> 3  No Additional Atmospheric Conditions       0          No 0000000 #> 4  No Additional Atmospheric Conditions       0          No 0000000 #> 5  No Additional Atmospheric Conditions       0          No 0000000 #> 6  No Additional Atmospheric Conditions       0          No 0000000 #> 7  No Additional Atmospheric Conditions       0          No 0000000 #> 8  No Additional Atmospheric Conditions       0          No 0000000 #> 9  No Additional Atmospheric Conditions       0          No 0000000 #> 10 No Additional Atmospheric Conditions       0          No 0000000 #>          railname not_hour not_hourname not_min not_minname arr_hour #> 1  Not Applicable       99      Unknown      99     Unknown       99 #> 2  Not Applicable       99      Unknown      99     Unknown       99 #> 3  Not Applicable       99      Unknown      99     Unknown       99 #> 4  Not Applicable       99      Unknown      99     Unknown       99 #> 5  Not Applicable       99      Unknown      99     Unknown       99 #> 6  Not Applicable       99      Unknown      99     Unknown       99 #> 7  Not Applicable       99      Unknown      99     Unknown       99 #> 8  Not Applicable       99      Unknown      99     Unknown       99 #> 9  Not Applicable       99      Unknown      99     Unknown       99 #> 10 Not Applicable       99      Unknown      99     Unknown       99 #>                      arr_hourname arr_min                       arr_minname #> 1  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 2  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 3  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 4  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 5  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 6  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 7  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 8  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 9  Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #> 10 Unknown EMS Scene Arrival Hour      99 Unknown EMS Scene Arrival Minutes #>    hosp_hr                       hosp_hrname hosp_mn #> 1       99                           Unknown      99 #> 2       99                           Unknown      99 #> 3       88 Not Applicable (Not Transported)       88 #> 4       88 Not Applicable (Not Transported)       88 #> 5       99                           Unknown      99 #> 6       88 Not Applicable (Not Transported)       88 #> 7       99                           Unknown      99 #> 8       88 Not Applicable (Not Transported)       88 #> 9       88 Not Applicable (Not Transported)       88 #> 10      99                           Unknown      99 #>                          hosp_mnname cf1 #> 1  Unknown EMS Hospital Arrival Time   0 #> 2  Unknown EMS Hospital Arrival Time   0 #> 3   Not Applicable (Not Transported)   0 #> 4   Not Applicable (Not Transported)   0 #> 5  Unknown EMS Hospital Arrival Time  14 #> 6   Not Applicable (Not Transported)   0 #> 7  Unknown EMS Hospital Arrival Time   0 #> 8   Not Applicable (Not Transported)   0 #> 9   Not Applicable (Not Transported)   0 #> 10 Unknown EMS Hospital Arrival Time   0 #>                                                                                                                     cf1name #> 1                                                                                                                      None #> 2                                                                                                                      None #> 3                                                                                                                      None #> 4                                                                                                                      None #> 5  Motor Vehicle struck by falling cargo,or something that came loose from or something that was set in motion by a vehicle #> 6                                                                                                                      None #> 7                                                                                                                      None #> 8                                                                                                                      None #> 9                                                                                                                      None #> 10                                                                                                                     None #>    cf2 cf2name cf3 cf3name fatals drunk_dr road_fnc road_fncname #> 1    0    None   0    None      1        0       NA           NA #> 2    0    None   0    None      1        0       NA           NA #> 3    0    None   0    None      1        0       NA           NA #> 4    0    None   0    None      1        1       NA           NA #> 5    0    None   0    None      1        0       NA           NA #> 6    0    None   0    None      1        0       NA           NA #> 7    0    None   0    None      1        0       NA           NA #> 8    0    None   0    None      2        0       NA           NA #> 9    0    None   0    None      1        1       NA           NA #> 10   0    None   0    None      1        1       NA           NA #>                                                                                                                                                                nm_crashes #> 1                                                                                                                                                                    NULL #> 2                                                                                                                                                                    NULL #> 3                                                                                                                                                                    NULL #> 4                                                                                                                                                                    NULL #> 5                                                                                                                         2019, 0, None Noted, 1, 24, Maryland, 240190, 0 #> 6  2019, 2019, 4, 9, In Roadway Improperly (Standing, Lying, Working, Playing, etc.), Wrong-Way Riding or Walking, 1, 1, 24, 24, Maryland, Maryland, 240048, 240048, 0, 0 #> 7                                                                                                                                                                    NULL #> 8                                                                                                                                                                    NULL #> 9                                                                                                                                                                    NULL #> 10                                                                                                                                                                   NULL #>                                                               nm_impairs #> 1                                                                   NULL #> 2                                                                   NULL #> 3                                                                   NULL #> 4                                                                   NULL #> 5            2019, 0, None/Apparently Normal, 1, 24, Maryland, 240190, 0 #> 6  2019, 99, Reported as Unknown if Impaired, 1, 24, Maryland, 240048, 0 #> 7                                                                   NULL #> 8                                                                   NULL #> 9                                                                   NULL #> 10                                                                  NULL #>                                                                                                    nm_priors #> 1                                                                                                       NULL #> 2                                                                                                       NULL #> 3                                                                                                       NULL #> 4                                                                                                       NULL #> 5  2019, 12, Disabled Vehicle Related (Working on, Pushing, Leaving/Approaching), 1, 24, Maryland, 240190, 0 #> 6   2019, 5, Movement Along Roadway with Traffic (In or Adjacent to Travel Lane), 1, 24, Maryland, 240048, 0 #> 7                                                                                                       NULL #> 8                                                                                                       NULL #> 9                                                                                                       NULL #> 10                                                                                                      NULL #>                                 safety_e_qs park_works #> 1                                      NULL         NA #> 2                                      NULL         NA #> 3                                      NULL         NA #> 4                                      NULL         NA #> 5  2019, NA, NA, 1, 24, Maryland, 240190, 0         NA #> 6  2019, NA, NA, 1, 24, Maryland, 240048, 0         NA #> 7                                      NULL         NA #> 8                                      NULL         NA #> 9                                      NULL         NA #> 10                                     NULL         NA #>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     pb_types #> 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL #> 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL #> 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL #> 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL #> 5                                                                                                                                                                                                                                                                                                                                                                                                                                                               0, 0, Not a Cyclist, Not a Cyclist, 0, 0, Not a Cyclist, Not a Cyclist, 7, 7, Not a Cyclist, Not a Cyclist, 7, 7, Not a Cyclist, Not a Cyclist, 7, 7, Not a Cyclist, Not a Cyclist, 2019, 2019, 8, 8, Not Applicable, Not Applicable, 8, 8, Not Applicable, Not Applicable, 41, 41, 41 Years, 41 Years, 0, 0, None Noted, None Noted, 5, 5, Pedestrian, Pedestrian, 1, 1, Male, Male, 0, 0, None Noted, None Noted, 0, 0, None Noted, None Noted, 100, 100, Unusual Circumstances, Unusual Circumstances, 150, 150, Motor Vehicle Loss of Control, Motor Vehicle Loss of Control, 8, 8, Not Applicable, Not Applicable, 8, 8, Not Applicable, Not Applicable, 3, 3, Not At Intersection, Not At Intersection, 4, 4, Paved Shoulder / Bicycle Lane / Parking Lane, Paved Shoulder / Bicycle Lane / Parking Lane, 8, 8, Not Applicable, Not Applicable, 1, 1, 24, 24, Maryland, Maryland, 240190, 240190, 0, 1 #> 6  0, 0, 0, Not a Cyclist, Not a Cyclist, Not a Cyclist, 0, 0, 0, Not a Cyclist, Not a Cyclist, Not a Cyclist, 7, 7, 7, Not a Cyclist, Not a Cyclist, Not a Cyclist, 7, 7, 7, Not a Cyclist, Not a Cyclist, Not a Cyclist, 7, 7, 7, Not a Cyclist, Not a Cyclist, Not a Cyclist, 2019, 2019, 2019, 8, 8, 8, Not Applicable, Not Applicable, Not Applicable, 8, 8, 8, Not Applicable, Not Applicable, Not Applicable, 26, 26, 26, 26 Years, 26 Years, 26 Years, 0, 0, 0, None Noted, None Noted, None Noted, 5, 5, 5, Pedestrian, Pedestrian, Pedestrian, 1, 1, 1, Male, Male, Male, 0, 0, 0, None Noted, None Noted, None Noted, 0, 0, 0, None Noted, None Noted, None Noted, 400, 400, 400, Walking/Running Along Roadway, Walking/Running Along Roadway, Walking/Running Along Roadway, 410, 410, 410, Walking/Running Along Roadway With Traffic - From Behind, Walking/Running Along Roadway With Traffic - From Behind, Walking/Running Along Roadway With Traffic - From Behind, 8, 8, 8, Not Applicable, Not Applicable, Not Applicable, 8, 8, 8, Not Applicable, Not Applicable, Not Applicable, 3, 3, 3, Not At Intersection, Not At Intersection, Not At Intersection, 3, 3, 3, Travel Lane, Travel Lane, Travel Lane, 8, 8, 8, Not Applicable, Not Applicable, Not Applicable, 1, 1, 2, 24, 24, 24, Maryland, Maryland, Maryland, 240048, 240048, 240048, 0, 1, 1 #> 7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL #> 8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL #> 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL #> 10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      NULL"},{"path":"/index.html","id":"related-packages-and-projects","dir":"","previous_headings":"","what":"Related packages and projects","title":"An R package for accessing the Fatality Analysis Reporting System (FARS) API","text":"stats19 “provides functions downloading formatting road crash data” “UK’s official road traffic casualty database, STATS19.” njtr1: “R interface New Jersey traffic crash data reported form NJTR-1.” nzcrash: “R package distribute New Zealand crash data convenient form.” GraphHopper Open Traffic Collection: “Collections URLs pointing traffic information portals contain open data least data free use.” Open Crash Data Index: Google Sheet listing range city, county, regional state sources crash data including non-injury crashes well fatal crashes available FARS API. Contributions crash data U.S. cities adn states welcome.","code":""},{"path":"/reference/crashapi-package.html","id":null,"dir":"Reference","previous_headings":"","what":"crashapi: CrashAPI — crashapi-package","title":"crashapi: CrashAPI — crashapi-package","text":"Get Fatality Analysis Reporting System (FARS) data FARS API.","code":""},{"path":"/reference/crashapi-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"crashapi: CrashAPI — crashapi-package","text":"Maintainer: Eli Pousson eli.pousson@gmail.com (ORCID) contributors: Kyle Walker kyle@walker-data.com (Author tigris helper functions bundled crashapi (see tigris-utils.R).) [copyright holder]","code":""},{"path":"/reference/fars_terms.html","id":null,"dir":"Reference","previous_headings":"","what":"NHSTA Terms and Defintions — fars_terms","title":"NHSTA Terms and Defintions — fars_terms","text":"FARS-related terms defined National Highway Traffic   Safety Administration based ANSI D16.1-1996: Manual Classification   Motor Vehicle Traffic Accidents.","code":""},{"path":"/reference/fars_terms.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NHSTA Terms and Defintions — fars_terms","text":"","code":"fars_terms"},{"path":"/reference/fars_terms.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"NHSTA Terms and Defintions — fars_terms","text":"data frame 66 rows 2 variables: term character Term definition character Term definition","code":""},{"path":"/reference/fars_terms.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"NHSTA Terms and Defintions — fars_terms","text":"NHTSA FARS Terms","code":""},{"path":"/reference/fars_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Get variables and variable attributes for the Fatality Analysis\n  Reporting System (FARS) API — fars_vars","title":"Get variables and variable attributes for the Fatality Analysis\n  Reporting System (FARS) API — fars_vars","text":"default, function returns returns list   variables data year specified. `vars` \"make\", \"model\",   \"bodytype\", function returns #'   list variable attributes   specified variable name attributes make model body type   specified FARS dataset.","code":""},{"path":"/reference/fars_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get variables and variable attributes for the Fatality Analysis\n  Reporting System (FARS) API — fars_vars","text":"","code":"fars_vars(year, var = NULL, make = NULL, model = NULL)"},{"path":"/reference/fars_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get variables and variable attributes for the Fatality Analysis\n  Reporting System (FARS) API — fars_vars","text":"year Case year. Year must 2010 2019. var Default NULL. Supported values \"make\", \"model\", \"bodytype\". Using var parameter returns variable attributes specified variable name attributes make model body type specified dataset. make Integer. Make ID number. Required return variables \"model\" \"bodytype\". Get list make ID numbers using \"make\" var selected year, e.g. `fars_vars(year = 2010, var = \"make\")`. model Integer. Model ID number. Required return variables \"bodytype\". Get list model ID numbers using \"model\" var selected year valid make ID number, e.g. `fars_vars(year = 2010, var = \"model\", make = 37)`","code":""},{"path":"/reference/fars_vars_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"FARS variable names and labels — fars_vars_labels","title":"FARS variable names and labels — fars_vars_labels","text":"table FARS table variable names extracted Fatality   Analysis Reporting System (FARS) Analytical User's Manual, 1975-2019,   documentation SAS format data files.","code":""},{"path":"/reference/fars_vars_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FARS variable names and labels — fars_vars_labels","text":"","code":"fars_vars_labels"},{"path":"/reference/fars_vars_labels.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"FARS variable names and labels — fars_vars_labels","text":"data frame 498 rows 14 variables: data_file character SAS data file name data_file_id double SAS data file ID file_id character File ID label character Variable label name character Variable name location double Location SAS data file order double Sort order mmuc_equivalent logical Equivalent term MMUC (placeholder) discontinued logical Indicator discontinued variables key logical Indicator key variables api_only logical Indicator variables used API api character Name(s) corresponding CrashAPI service name_var logical Indicator \"NAME\" variable returned API api_list_col logical Indicator list columns returned API","code":""},{"path":"/reference/format_crashes.html","id":null,"dir":"Reference","previous_headings":"","what":"Format crash data — format_crashes","title":"Format crash data — format_crashes","text":"Reorder columns match order documented Fatality Analysis Reporting System (FARS) Analytical User's Manual, 1975-2019 append derived columns date, time, datetime.","code":""},{"path":"/reference/format_crashes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format crash data — format_crashes","text":"","code":"format_crashes(x, details = TRUE)"},{"path":"/reference/get_fars.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Fatality Analysis Reporting System (FARS) data with the FARS API — get_fars","title":"Get Fatality Analysis Reporting System (FARS) data with the FARS API — get_fars","text":"function provides convenient interface accessing FARS data data summaries using range criteria. api parameter allows call one following functions access DOT NHTSA’s Crash API: get_fars_crash_list returns list fatal crashes occurred multiple states one years. get_fars_crash_details returns details fatal crash occurred state single year. get_fars_crashes list fatal crashes location occurred throughout U.S. get_fars_summary provides count injury severity occurred throughout U.S. including count fatalities crashes. get_fars_year provides one 20 FARS data tables single year. Supports downloading CSV JSON file. get_fars_crash_list get_fars_crashes limit returned data 5000 records consider limiting range years requested data exceeds threshold. package also enables access FARS data available NHTSA data downloads server zip format. Set api \"zip\" use get_fars_zip function download data.","code":""},{"path":"/reference/get_fars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Fatality Analysis Reporting System (FARS) data with the FARS API — get_fars","text":"","code":"get_fars(   year = 2019,   state,   county = NULL,   api = c(\"crashes\", \"cases\", \"state list\", \"summary count\", \"year dataset\", \"zip\"),   type,   details = FALSE,   geometry = FALSE,   crs = 4326,   cases,   vehicles,   format = \"json\",   pr,   path = NULL,   download = FALSE )  get_fars_crashes(   year = NULL,   start_year,   end_year,   state,   county = NULL,   details = FALSE,   geometry = FALSE,   crs = 4326 )  get_fars_cases(   year = 2019,   state,   cases,   details = NULL,   geometry = FALSE,   crs = 4326,   progress_bar = TRUE )  get_fars_crash_list(   year = NULL,   start_year,   end_year,   state,   vehicles = c(1, 50) )  get_fars_summary(year = NULL, start_year, end_year, state)  get_fars_year(   year = 2017,   type = \"accident\",   format = \"json\",   path = NULL,   download = FALSE )"},{"path":"/reference/get_fars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Fatality Analysis Reporting System (FARS) data with the FARS API — get_fars","text":"year numeric vector. Year range start end year. api \"details\", \"year dataset\", \"zip\" (using get_fars_crash_details, get_fars_year, get_fars_zip functions), single year required. api options support range minimum value used start year maximum value used end year. api options support years 2010 2019. \"year dataset\" supports 2010 2017 \"zip\" supports 1975 2019. start_year end_year ignored year NULL. state Required. State name, abbreviation, FIPS number. get_fars_crash_list supports multiple states. county County name FIPS number. Required get_fars_crashes. api character. API function use. Supported values include \"crashes\", \"cases\", \"state list\", \"summary count\", \"year dataset\", \"zip\". Default: \"crashes\". type Name dataset data file download using \"year dataset\" api get_fars_year. Supported values include \"ACCIDENT\", \"CEVENT\", \"DAMAGE\", \"DISTRACT\", \"DRIMPAIR\", \"FACTOR\", \"MANEUVER\", \"NMCRASH\", \"NMIMPAIR\", \"NMPRIOR\", \"PARKWORK\", \"PBTYPE\", \"PERSON\", \"SAFETYEQ\", \"VEHICLE\", \"VEVENT VINDECODE\", \"VINDERIVED\", \"VIOLATION\", \"VISION\", \"VSOE\". Lowercase mixed case values permitted. details Type detailed crash data return (either \"events\" \"vehicles\"). TRUE get_fars get_fars_crashes, detailed case data (excluding event vehicle data) attached returned crash data. NULL get_fars_cases, events vehicle data excluded returned case data. returned get_fars_cases. Optional get_fars_crash_details. Default: NULL get_fars_cases; FALSE get_fars get_fars_crashes. geometry TRUE, return sf object. Optional get_fars_crashes. crs Coordinate reference system return get_fars_crashes geometry TRUE. cases One FARS case numbers. Required api \"cases\" using get_fars_cases. Multiple case numbers can provided. vehicles numeric vector minimum maximum number vehicles, e.g. c(1, 2) minimum 1 vehicle maximum 2. Required get_fars_crash_list. format Default \"json\". \"csv\" supported using \"year dataset\" api. \"sas\" supporting \"zip\" api. pr logical. TRUE, download zip file FARS data Puerto Rico. Puerto Rico data available years 1975-1977. Default: FALSE get_fars_zip . path File path used download TRUE. download logical. TRUE api \"year dataset\" \"zip\", download data file. Default FALSE. start_year Start year crash reports. end_year End year crash reports. progress_bar TRUE, display progress bar downloading detailed data get_fars_cases() another function calls function. Default TRUE.","code":""},{"path":"/reference/get_fars_crash_vehicles.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Crashes By Vehicle — get_fars_crash_vehicles","title":"Get Crashes By Vehicle — get_fars_crash_vehicles","text":"function returns list fatal crashes vehicle type   occurred throughout United States. make, model, body type   must match options returned `fars_vars`. function accepts named   options converted ID numbers use API query.","code":""},{"path":"/reference/get_fars_crash_vehicles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Crashes By Vehicle — get_fars_crash_vehicles","text":"","code":"get_fars_crash_vehicles(   year = NULL,   start_year,   end_year,   state,   make = NULL,   model = NULL,   model_year = 2010,   body_type = NULL )"},{"path":"/reference/get_fars_crash_vehicles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Crashes By Vehicle — get_fars_crash_vehicles","text":"year numeric vector. Year range start end year. 2010 2019 supported. start_year Start year crash reports. end_year End year crash reports. state Required. State name, abbreviation, FIPS number. make Make name ID, Required. start_year used return list support make options. Default: NULL model Model name ID, Optional. Default: NULL model_year Model year, Optional. Default: NULL body_type Body type, Optional. `model` must provided use body_type parameter. Default: NULL","code":""},{"path":"/reference/get_fars_zip.html","id":null,"dir":"Reference","previous_headings":"","what":"Download FARS data files as zipped CSV or SAS files — get_fars_zip","title":"Download FARS data files as zipped CSV or SAS files — get_fars_zip","text":"function provides alternative get_fars_year downloads files directly NHTSA FTP site.","code":""},{"path":"/reference/get_fars_zip.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download FARS data files as zipped CSV or SAS files — get_fars_zip","text":"","code":"get_fars_zip(year = 2019, format = \"csv\", path = NULL, pr = FALSE)"},{"path":"/reference/get_fars_zip.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download FARS data files as zipped CSV or SAS files — get_fars_zip","text":"year Year data 1975 2019, Default: 2019 format Format zipped data tables ('csv' 'sas'). Default: 'csv'. path Path download zip file FARS tables. pr TRUE, download FARS data Puerto Rico. Puerto Rico data available years 1975-1977. Default: FALSE","code":""},{"path":"/reference/get_fars_zip.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download FARS data files as zipped CSV or SAS files — get_fars_zip","text":"Downloads zip file CSV SAS tables.","code":""},{"path":"/reference/tidy_crashes.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy crash data — tidy_crashes","title":"Tidy crash data — tidy_crashes","text":"Reorder columns match order documented Fatality Analysis Reporting System (FARS) Analytical User's Manual, 1975-2019 append derived columns date, time, datetime.","code":""},{"path":"/reference/tidy_crashes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy crash data — tidy_crashes","text":"","code":"tidy_crashes(x, details = TRUE)"},{"path":"/news/index.html","id":"crashapi-01011","dir":"Changelog","previous_headings":"","what":"crashapi 0.1.0.11","title":"crashapi 0.1.0.11","text":"feat: add get_fars() function uses api parameter call different APIs feat: import helper functions {tigris} package improve renamed lookup_fips() function feat: Add get_fars_crash_vehicles support downloading crash data vehicle make, model, /body type fix: get_fars_year using correct query URL download = TRUE refactor: relocate helper functions utils.R refactor: rename make_query() helper function read_api() refactor: update validate_year() helper function work {checkmate} package refactor: update default values year, start_year, end_year parameters docs: Update README pkgdown site","code":""},{"path":"/news/index.html","id":"crashapi-01010","dir":"Changelog","previous_headings":"","what":"crashapi 0.1.0.10","title":"crashapi 0.1.0.10","text":"feat: get_fars_zip added provide alternate (non-API) method downloading zipped CSV SAS data files fix: get_fars_crash_details updated return data frame w/o list columns feat: get_fars_crash_details updated optionally return vehicle crash events data frames","code":""},{"path":"/news/index.html","id":"crashapi-0109","dir":"Changelog","previous_headings":"","what":"crashapi 0.1.0.9","title":"crashapi 0.1.0.9","text":"docs: Revise README update pkgdown site fix: Add missing imports DESCRIPTION fix: Update county_to_fips() support partial county names, e.g. “Adams” instead “Adams County” avoiding matching multiple counties (closes #1) feat: Update get_fars_crash_details() return sf objects using geometry parameter refactor: Set API calls w/ unexported utility function (make_query)","code":""},{"path":"/news/index.html","id":"crashapi-010","dir":"Changelog","previous_headings":"","what":"crashapi 0.1.0","title":"crashapi 0.1.0","text":"Added functions accessing FARS APIs including Get Crash List Information, Get Crash Details, Get Crashes Location, Get Summary Counts, Get FARS Data Year (documented get_fars()) Added functions accessing FARS APIs including Get Variables Get Variable Attributes (documented get_fars_vars()) Added fars_terms data terms definitions National Highway Traffic Safety Administration (NHTSA) website Added NEWS.md file track changes package. Set pkgdown website","code":""}]
